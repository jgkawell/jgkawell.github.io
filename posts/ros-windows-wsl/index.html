<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Setting up ROS in Windows through WSL" /><meta property="og:locale" content="en" /><meta name="description" content="UPDATE" /><meta property="og:description" content="UPDATE" /><link rel="canonical" href="https://jack.kawell.us/posts/ros-windows-wsl/" /><meta property="og:url" content="https://jack.kawell.us/posts/ros-windows-wsl/" /><meta property="og:site_name" content="Jack Kawell" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-06-24T12:00:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Setting up ROS in Windows through WSL" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-19T13:52:03-05:00","datePublished":"2019-06-24T12:00:00-05:00","description":"UPDATE","headline":"Setting up ROS in Windows through WSL","mainEntityOfPage":{"@type":"WebPage","@id":"https://jack.kawell.us/posts/ros-windows-wsl/"},"url":"https://jack.kawell.us/posts/ros-windows-wsl/"}</script><title>Setting up ROS in Windows through WSL | Jack Kawell</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Jack Kawell"><meta name="application-name" content="Jack Kawell"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/avatar.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jack Kawell</a></div><div class="site-subtitle font-italic">I build stuff <a hidden rel="me" href="https://mastodon.world/@jgkawell">Mastodon</a></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/resume/" class="nav-link"> <i class="fa-fw fas fa-document ml-xl-3 mr-xl-3 unloaded"></i> <span>RESUME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/jgkawell" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://mastodon.world/@jgkawell" aria-label="mastodon" target="_blank" rel="noopener"> <i class="fab fa-mastodon"></i> </a> <a href="https://www.linkedin.com/in/jack-kawell" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Setting up ROS in Windows through WSL</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Setting up ROS in Windows through WSL</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/jgkawell">Jack Kawell</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1561395600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2019-06-24 </em> </span> <span> Updated <em class="timeago" data-ts="1655664723" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-19 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2188 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><h1 id="update">UPDATE</h1><p>This post is now deprecated with the public launch of WSL2. I have a new post documenting how to do this same set up with WSL2. Check it out <a href="/posts/ros-windows-wsl2">over here</a>.</p><p><strong>NOTE</strong>: If you are <strong>not</strong> running Windows 10 2004 <strong>Build 19041</strong> or higher, then you can continue with this post using WSL1.</p><h1 id="introduction">Introduction</h1><p>As a robotics researcher, I spend a lot of my time developing in a Linux-on-metal environment. This is because my work revolves around ROS (the Robot Operating System) which requires Ubuntu in order to run. If you want an intro to ROS and the power of working with this highly-extensible software I’ll point you to the <a href="http://www.ros.org/is-ros-for-me/">ROS website</a> which has many good resources explaining the abilities of this system. Ubuntu in and of itself is not a bad platform, but growing up as a Windows guy I’ve come to love Microsoft’s platform and many of the features and native apps that follow from it (who doesn’t love native, highly supported gaming and a rich ecosystem of powerful professional grade apps?). Plus, no Linux distribution I’ve ever used has quite the polish of Microsoft’s offering.</p><p>Because of this, I’ve often wanted a way to develop within ROS on top of Windows. This can be accomplished by spinning up a VM within VirtualBox or VMWare and simply diving into a full Ubuntu desktop, but that takes up precious resources and also means dealing with all the miscellaneous issues with a full Linux install that I’m trying to avoid. Put simply, I wish for a lightweight ROS development environment which will allow me to quickly jump in and out of it without slowing down my Windows host. There are two ways to accomplish this: one way is to simply load up a Docker image based on Ubuntu with ROS pre-installed and away you go. However, Docker containers don’t have a great connection with either your network or your local files and thus aren’t tightly integrated with the Windows platform they are hosted by. The second way to accomplish this is by using WSL (Windows Subsystem for Linux) which is what we will do below.</p><p>NOTE: If you’d like to know how to set this up in Docker, I have a tutorial <a href="/posts/ros-windows-docker">here</a>.</p><h1 id="wsl-installation">WSL Installation</h1><p>WSL is simply an emulation of Linux on top of Windows. With WSL 1 this is not quite a VM but also not quite bare-bones and is kind of a mongrel of an OS. You can find a good overview of how it works <a href="https://docs.microsoft.com/en-us/windows/wsl/about">here</a>. However, it works very well (except for file system performance which we’ll get into a little later) and can handle our ROS needs with ease.</p><p>NOTE: As I am writing this <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-about">WSL 2</a> is in the works which uses a super light-weight VM on Hyper-V in order to create a fully fledged Linux environment with (almost) all the power of bare-bones Linux. I actually use WSL 2 for my development systems, but you have to run a Windows Insider version for that to work right now. I’ll write an updated post when WSL 2 officially goes live in Spring 2020.</p><p>The first step of setting up this ROS development environment on Windows is simply to enable the WSL feature and then install your preferred Linux distribution. Microsoft has a tutorial <a href="https://docs.microsoft.com/en-us/windows/wsl/install">here</a> about how to do it, but for the sake of continuity I’ll also put it in this walk-through.</p><p>To enable WSL, open up PowerShell as Administrator and run this command:</p><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Enable-WindowsOptionalFeature</span><span class="w"> </span><span class="nt">-Online</span><span class="w"> </span><span class="nt">-FeatureName</span><span class="w"> </span><span class="nx">Microsoft-Windows-Subsystem-Linux</span><span class="w">
</span></pre></table></code></div></div><p>This will only take a second or two to run (it’s really just flipping a switch internally on Windows) and then you’ll need to reboot your machine. During the reboot process you’ll see that it’s installing new features (that’s our WSL stuff!) and then you’ll be good to go.</p><p>Now you can head over to the Microsoft Store app and search for “linux”.</p><figure> <img data-src="/assets/posts/linux-windows-store.png" alt="" data-proofer-ignore><figcaption> <em> Click "Show all" to see all Linux distros (including Ubuntu 16.04) </em></figcaption></figure><p>This will give you a bunch of options including Kali, Ubuntu, Debian, and others. For ROS we need Ubuntu installed and, since I spend most of my time on <a href="http://wiki.ros.org/kinetic">ROS Kinetic</a>, I will choose Ubuntu 16.04 LTS. At the time of writing the store lists, Ubuntu, Ubuntu 16.04 LTS, and Ubuntu 18.04 LTS. If you’d like, you can install Ubuntu 18.04 LTS and then later on install <a href="http://wiki.ros.org/melodic">ROS Melodic</a>, but I will proceed in this walk-through assuming 16.04/Kinetic.</p><p>NOTE: Keep in mind that Ubuntu and ROS versions are paired with each other: 16.04/Kinetic and 18.04/Melodic. They don’t work interchangeably.</p><p>All that being said, simply click on your Ubuntu version of choice and then click install. This will take a bit depending on your internet speeds since the distribution is fairly large. Once it’s done though you’ll have a new app with the Ubuntu logo on it and the name Ubuntu 16/18.04 (depending on which one you chose).</p><p>Now we can launch that app and it will take a bit the first time as it needs to run through the initialization of the OS (remember that we are installing a complete operating system here). However, every other boot of WSL will only take a couple of seconds.</p><p>Once the initialization is complete you’ll need to create a username and password that you’ll use any other time you want to enter the WSL distribution.</p><p>Now you’re in! You have an (almost) fully-featured version of Ubuntu running within Windows with minimal resources being taken up and the ability to launch and kill it in a matter of seconds.</p><p>NOTE: Your WSL file system resides within your file explorer at <code class="language-plaintext highlighter-rouge">\\wsl$\Ubuntu-16.04</code> if you’re running Windows 10 19.03 or later).</p><h2 id="wsl-extras-optional-but-highly-recommended"><span class="mr-2">WSL Extras (optional, but highly recommended)</span><a href="#wsl-extras-optional-but-highly-recommended" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>These are a couple things that I always do in order to boost my WSL productivity. The first is to keep Windows Defender from constantly scanning WSL files (this boosts file system performance in WSL) and the second is to add an X-server to run GUI applications in Windows through WSL. We’ll tackle these below.</p><h3 id="add-wsl-to-the-exclusions-list"><span class="mr-2">Add WSL to the Exclusions List</span><a href="#add-wsl-to-the-exclusions-list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><strong>NOTE</strong>: This may only work for Windows 19.03 or later. Go ahead and try it though anyway and let me know how you get on if you’re running some earlier build.</p><p>First, open up the Windows Security app. Then click on “Virus &amp; threat protection”.</p><figure> <img data-src="/assets/posts/windows-10-security-settings-virus-threat-protection.png" alt="" data-proofer-ignore><figcaption> <em>Click on "Virus &amp; threat protection"</em></figcaption></figure><p>Now under “Virus &amp; threat protection settings” you’ll see a “Manage settings” option; click that.</p><figure> <img data-src="/assets/posts/windows-10-security-settings-manage-settings.png" alt="" data-proofer-ignore><figcaption> <em>Click on "Manage settings"</em></figcaption></figure><p>Scroll way down to the bottom of the page and under “Exclusions” you’ll see an option for “Add or remove exclusions”; click that.</p><figure> <img data-src="/assets/posts/windows-10-security-settings-add-remove-exclusions.png" alt="" data-proofer-ignore><figcaption> <em>Click on "Add or remove exclusions"</em></figcaption></figure><p>Now you’ll need to press the + next to “Add an exclusion” and then select “folder”. You should now be able to type in your WSL file system location ( <code class="language-plaintext highlighter-rouge">\\wsl$\Ubuntu-16.04</code>) and press enter.</p><figure> <img data-src="/assets/posts/windows-10-security-settings-final-look.png" alt="" data-proofer-ignore><figcaption> <em>Once finished, the exclusion should look like this</em></figcaption></figure><h3 id="setup-gui-forwarding"><span class="mr-2">Setup GUI forwarding</span><a href="#setup-gui-forwarding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>There are many X-server applications that will allow for GUI forwarding from WSL, but my favorite one is VcXsrv. Go <a href="https://sourceforge.net/projects/vcxsrv/">here</a> to download and install it.</p><p>Once you run the installer you may need to launch it from Start in order to set it up. You can simply press “next” a few times to accept all the defaults and then select “finish” to close it out. You should now see it’s icon down in your icon tray which means the server is running.</p><p>NOTE #1: right before you click “finish” you can select “Save configuration” so that you can simply double-click the config file to launch VcXsrv with all the defaults. This is a bit faster than clicking through every time.</p><p>NOTE #2: You may want to uncheck “Native opengl” and check “Disable access control”. On different systems I’ve had issues with the defaults here. If you do this, be sure to set the environment variable <code class="language-plaintext highlighter-rouge">LIBGL_ALWAYS_INDIRECT=0</code> in your WSL terminal (you can just add <code class="language-plaintext highlighter-rouge">export LIBGL_ALWAYS_INDIRECT=0</code> to the end of your <code class="language-plaintext highlighter-rouge">.bashrc</code> file). Your mileage may vary.</p><figure> <img data-src="/assets/posts/vcxsrv-settings.png" alt="" data-proofer-ignore><figcaption> <em>Example of adjusting VcXsrv settings</em></figcaption></figure><p>Once that’s set up, you can now open your Ubuntu app and run this command to setup the GUI forwarding by adding an export of the DISPLAY variable to your <code class="language-plaintext highlighter-rouge">.bashrc</code> file. This way you’ll have this environment variable set with every new shell you open up:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s1">'export DISPLAY=:0'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</pre></table></code></div></div><p>Now source your edited <code class="language-plaintext highlighter-rouge">.bashrc</code> file:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">source</span> ~/.bashrc
</pre></table></code></div></div><p>Now everything should be setup for GUI apps to be sent on to Windows for rendering and display. If you want to test the setup, you can install some basic apps within Ubuntu with the below package:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>x11-apps
</pre></table></code></div></div><p>And then run:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>xcalc
</pre></table></code></div></div><p>To run one of the apps. Or you can install any of your favorite GUI apps or test it with ROS after we install that. Speaking of which…</p><h1 id="ros-installation">ROS Installation</h1><p>Now to install ROS. The ROS team has a great installation guide over <a href="http://www.ros.org/install/">here</a> at their website, but like before I’ll go ahead and show it here for completeness. Again note that the below commands are for Ubuntu 16.04/ROS Kinetic. If you chose to go with 18.04/Melodic you’ll need to alter these a tiny bit. Go <a href="http://wiki.ros.org/melodic/Installation/Ubuntu">here</a> for more details.</p><p>First we need to add the ROS packages information to the sources list on our WSL system. To do this, open your Ubuntu app and run the below command:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>sh <span class="nt">-c</span> <span class="s1">'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" &gt; /etc/apt/sources.list.d/ros-latest.list'</span>
</pre></table></code></div></div><p>Now we need to setup the keys for these package repositories:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-key adv <span class="nt">--keyserver</span> <span class="s1">'hkp://keyserver.ubuntu.com:80'</span> <span class="nt">--recv-key</span> C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654
</pre></table></code></div></div><p>NOTE: If you get some errors with the above command try substituting <code class="language-plaintext highlighter-rouge">hkp://pgp.mit.edu:80</code>.</p><p>Now we need to update the local list of available packages with these newly added ROS ones:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt update
</pre></table></code></div></div><p>Now we’re (finally) ready to install ROS. There’s a few options to choose from:</p><ul><li><code class="language-plaintext highlighter-rouge">desktop-full</code>: This includes everything; rqt, rviz, simulators, navigation, perception, you name it.<li><code class="language-plaintext highlighter-rouge">desktop</code>: This has most of the above but lacks the simulators, navigators, and perception.<li><code class="language-plaintext highlighter-rouge">ros-base</code>: This is just the basics for getting up and running with ROS. No GUI tools and only what you need to package, build, and communicate over the ROS stack.</ul><p>My recommendation is to go with <code class="language-plaintext highlighter-rouge">desktop-full</code> unless you are super short on storage. It’ll take a bit more time for the initial install and take up more disk space, but you’re guaranteed to have most of the tools you need for anything you’d like to do. However, with all of these you can simply add more tools as you need them. Simply run <code class="language-plaintext highlighter-rouge">apt-cache search ros-kinetic</code> to find which ones are available.</p><p>Once you’ve chosen the ROS installation you want to get, run the below command and substitute in your choice. I’ll do <code class="language-plaintext highlighter-rouge">desktop-full</code> here:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>ros-kinetic-desktop-full
</pre></table></code></div></div><p>This will take a long time to run. Remember when I said file system performance is bad on WSL? This is because it’s actually an emulated Linux file system on a Windows file system (this is changing in WSL 2). Don’t worry though, the actual performance of ROS when it’s running in WSL is pretty zippy.</p><p>Once it’s done with the install we need to initialize the dependency manager for ROS. Simply run these two commands:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>rosdep init
rosdep update
</pre></table></code></div></div><p>ROS needs to be sourced each time you open a bash shell and so we can add it to the <code class="language-plaintext highlighter-rouge">~/.bashrc</code> file using the below commands to add it and source it (you can source ROS every time but that defeats the point of making this a dedicated ROS development environment):</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"source /opt/ros/kinetic/setup.bash"</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">source</span> ~/.bashrc
</pre></table></code></div></div><p>One last thing to do. For most ROS development you’ll want to be able to build your own packages. So we need a couple more packages in order to make this work. So finally we run this last install command:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>python-rosinstall python-rosinstall-generator python-wstool build-essential
</pre></table></code></div></div><p>And you’re done! Welcome to ROS on Windows!</p><h1 id="conclusion">Conclusion</h1><p>Though this post is pretty long, none of this is actually too hard to setup and can be done in a matter of a few minutes (plus install times). It offers a fairly painless way to get started in ROS development on Windows for those who don’t want to run a VM or dual-boot their systems.</p><p>Once everything has been done above, you’re ready for some ROS development. Not everything will be supported in ROS with this setup (networking across devices may be a bit tricky though I’ve never tested it to see), but the basics are all there for most development. If you’re new to ROS, I’d suggest walking through all of the tutorials <a href="https://wiki.ros.org/ROS/Tutorials">here</a> to get a handle on things. At least go through the Beginner Level (you can just do one or the other of the C++ and Python ones) so that you have a good foundation to work off of.</p><p>I hope this is helpful to somebody and if you have any thoughts on how to improve don’t hesitate to let me know with a comment.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/development/'>development</a>, <a href='/categories/tutorial/'>tutorial</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/ros/" class="post-tag no-text-decoration" >ros</a> <a href="/tags/robotics/" class="post-tag no-text-decoration" >robotics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Setting up ROS in Windows through WSL - Jack Kawell&amp;url=https://jack.kawell.us/posts/ros-windows-wsl/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Setting up ROS in Windows through WSL - Jack Kawell&amp;u=https://jack.kawell.us/posts/ros-windows-wsl/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://jack.kawell.us/posts/ros-windows-wsl/&amp;text=Setting up ROS in Windows through WSL - Jack Kawell" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://jack.kawell.us/posts/ros-windows-wsl/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/sff-development-gaming-pc/">Building a Custom SFF Development and Gaming PC</a><li><a href="/posts/ompl-moveit-custom-motion-planning/">Installing OMPL/MoveIt! for custom motion planning</a><li><a href="/posts/ros-windows-wsl/">Setting up ROS in Windows through WSL</a><li><a href="/posts/ros-windows-docker/">Setting up ROS in Windows through Docker</a><li><a href="/posts/ompl-cost-functions/">Custom Cost Function for OMPL & MoveIt! through ROS</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/robotics/">robotics</a> <a class="post-tag" href="/tags/ros/">ros</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/wsl/">wsl</a> <a class="post-tag" href="/tags/cmd/">cmd</a> <a class="post-tag" href="/tags/computer/">computer</a> <a class="post-tag" href="/tags/diy/">diy</a> <a class="post-tag" href="/tags/hobby/">hobby</a> <a class="post-tag" href="/tags/motion-planning/">motion planning</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ompl-moveit-custom-motion-planning/"><div class="card-body"> <em class="timeago small" data-ts="1561395600" > 2019-06-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Installing OMPL/MoveIt! for custom motion planning</h3><div class="text-muted small"><p> Introduction I am in the process of creating a customized version of an OMPL planner that uses a personalized costmap to help robots learn to move around people in a more comfortable way. In order...</p></div></div></a></div><div class="card"> <a href="/posts/ros-windows-docker/"><div class="card-body"> <em class="timeago small" data-ts="1568221200" > 2019-09-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Setting up ROS in Windows through Docker</h3><div class="text-muted small"><p> In another post, I wrote about setting up a ROS development environment within Windows using WSL. Since then, I’ve had a few people ask me about setting up the same system except using Docker. This...</p></div></div></a></div><div class="card"> <a href="/posts/realsense-sdk-odroid/"><div class="card-body"> <em class="timeago small" data-ts="1569862800" > 2019-09-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Installing RealSense SDK on an ODROID-XU4</h3><div class="text-muted small"><p> In this post I’ll walk through how to get the RealSense SDK up and running on the ODROID-XU4. This might seem trivial at first, but the steps can be a bit confusing. For this tutorial I’ll assume ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/ompl-moveit-custom-motion-planning/" class="btn btn-outline-primary" prompt="Older"><p>Installing OMPL/MoveIt! for custom motion planning</p></a> <a href="/posts/ros-windows-docker/" class="btn btn-outline-primary" prompt="Newer"><p>Setting up ROS in Windows through Docker</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "jgkawell/jgkawell.github.io", "data-repo-id": "R_kgDOHaXBOw", "data-category": "General", "data-category-id": "DIC_kwDOHaXBO84CPWL5", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/jgkawell">Jack Kawell</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/robotics/">robotics</a> <a class="post-tag" href="/tags/ros/">ros</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/wsl/">wsl</a> <a class="post-tag" href="/tags/cmd/">cmd</a> <a class="post-tag" href="/tags/computer/">computer</a> <a class="post-tag" href="/tags/diy/">diy</a> <a class="post-tag" href="/tags/hobby/">hobby</a> <a class="post-tag" href="/tags/motion-planning/">motion planning</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
